<Window x:Class="WPFDemoB.Reportes"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WPFDemoB"
        mc:Ignorable="d"
        Title="Reportes - Ingresos" Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        MinHeight="600" MinWidth="900">

    <Grid Background="LightGray">
        <!-- Barra superior -->
        <DockPanel>
            <StackPanel DockPanel.Dock="Top" Background="DarkOrange" Height="50">
                <TextBlock Text="REPORTE DE INGRESOS" 
                          FontSize="18" 
                          FontWeight="Bold" 
                          Foreground="White" 
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Center"
                          Margin="10"/>
            </StackPanel>

            <!-- Contenido principal con scroll -->
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="20">

                    <!-- FILTROS DE BÚSQUEDA -->
                    <GroupBox Header="FILTROS DE BÚSQUEDA" 
                             FontSize="14" 
                             FontWeight="Bold" 
                             Margin="0,10,0,20"
                             Padding="20"
                             Background="White">

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="120"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Fecha Inicio -->
                            <TextBlock Text="Fecha Inicio:" 
                                      Grid.Row="0" Grid.Column="0"
                                      VerticalAlignment="Center" 
                                      Margin="0,10"/>
                            <DatePicker x:Name="dpFechaInicio" 
                                       Grid.Row="0" Grid.Column="1"
                                       Height="30" 
                                       Margin="10,10,20,10"/>

                            <!-- Fecha Fin -->
                            <TextBlock Text="Fecha Fin:" 
                                      Grid.Row="0" Grid.Column="2"
                                      VerticalAlignment="Center" 
                                      Margin="0,10"/>
                            <DatePicker x:Name="dpFechaFin" 
                                       Grid.Row="0" Grid.Column="3"
                                       Height="30" 
                                       Margin="10,10,10,10"/>

                            <!-- Placa -->
                            <TextBlock Text="Placa:" 
                                      Grid.Row="1" Grid.Column="0"
                                      VerticalAlignment="Center" 
                                      Margin="0,10"/>
                            <TextBox x:Name="txtFiltroPlaca" 
                                    Grid.Row="1" Grid.Column="1"
                                    Height="30" 
                                    Margin="10,10,20,10"
                                    VerticalContentAlignment="Center"/>

                            <!-- Nombre Conductor -->
                            <TextBlock Text="Conductor:" 
                                      Grid.Row="1" Grid.Column="2"
                                      VerticalAlignment="Center" 
                                      Margin="0,10"/>
                            <TextBox x:Name="txtFiltroConductor" 
                                    Grid.Row="1" Grid.Column="3"
                                    Height="30" 
                                    Margin="10,10,10,10"
                                    VerticalContentAlignment="Center"/>

                            <!-- Nombre Producto -->
                            <TextBlock Text="Producto:" 
                                      Grid.Row="2" Grid.Column="0"
                                      VerticalAlignment="Center" 
                                      Margin="0,10"/>
                            <TextBox x:Name="txtFiltroProducto" 
                                    Grid.Row="2" Grid.Column="1"
                                    Height="30" 
                                    Margin="10,10,20,10"
                                    VerticalContentAlignment="Center"/>

                            <!-- Botones -->
                            <StackPanel Grid.Row="3" Grid.ColumnSpan="5" 
                                       Orientation="Horizontal" 
                                       HorizontalAlignment="Center"
                                       Margin="0,20,0,0">

                                <Button x:Name="btnBuscar" 
                                       Content="🔍 Buscar" 
                                       Height="35" 
                                       Width="120"
                                       Background="Blue" 
                                       Foreground="White" 
                                       FontWeight="Bold"
                                       Margin="10,0"
                                       Click="btnBuscar_Click"/>

                                <Button x:Name="btnLimpiarFiltros" 
                                       Content="🗑️ Limpiar Filtros" 
                                       Height="35" 
                                       Width="130"
                                       Background="Orange" 
                                       Foreground="White" 
                                       FontWeight="Bold"
                                       Margin="10,0"
                                       Click="btnLimpiarFiltros_Click"/>

                                <Button x:Name="btnMostrarTodos" 
                                       Content="📋 Mostrar Todos" 
                                       Height="35" 
                                       Width="130"
                                       Background="Green" 
                                       Foreground="White" 
                                       FontWeight="Bold"
                                       Margin="10,0"
                                       Click="btnMostrarTodos_Click"/>

                                <Button x:Name="btnVolverHome" 
                                       Content="🏠 Volver al Menú" 
                                       Height="35" 
                                       Width="130"
                                       Background="Gray" 
                                       Foreground="White" 
                                       FontWeight="Bold"
                                       Margin="10,0"
                                       Click="btnVolverHome_Click"/>
                            </StackPanel>

                        </Grid>
                    </GroupBox>

                    <!-- LISTA DE INGRESOS -->
                    <GroupBox Header="LISTADO DE INGRESOS" 
                             FontSize="14" 
                             FontWeight="Bold" 
                             Margin="0,0,0,20"
                             Padding="20"
                             Background="White">

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Información de resultados -->
                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="Registros encontrados: " 
                                          FontSize="12" 
                                          Foreground="DarkBlue"/>
                                <TextBlock x:Name="lblTotalRegistros"
                                          Text="0" 
                                          FontSize="12" 
                                          FontWeight="Bold"
                                          Foreground="DarkBlue"/>
                                <TextBlock Text=" | Peso total: " 
                                          FontSize="12" 
                                          Foreground="DarkBlue"
                                          Margin="20,0,0,0"/>
                                <TextBlock x:Name="lblPesoTotal"
                                          Text="0 Kg" 
                                          FontSize="12" 
                                          FontWeight="Bold"
                                          Foreground="DarkBlue"/>
                            </StackPanel>

                            <!-- DataGrid -->
                            <DataGrid x:Name="dgIngresos" 
                                     Grid.Row="1"
                                     Height="350"
                                     AutoGenerateColumns="False"
                                     CanUserAddRows="False"
                                     CanUserDeleteRows="False"
                                     IsReadOnly="True"
                                     GridLinesVisibility="All"
                                     HeadersVisibility="Column"
                                     Background="White"
                                     AlternatingRowBackground="LightYellow">

                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="N°" 
                                                       Binding="{Binding Id}" 
                                                       Width="50"/>
                                    <DataGridTextColumn Header="Fecha" 
                                                       Binding="{Binding Fecha, StringFormat=dd/MM/yyyy}" 
                                                       Width="80"/>
                                    <DataGridTextColumn Header="Placa" 
                                                       Binding="{Binding Placa}" 
                                                       Width="80"/>
                                    <DataGridTextColumn Header="Turno" 
                                                       Binding="{Binding Turno}" 
                                                       Width="80"/>
                                    <DataGridTextColumn Header="Conductor" 
                                                       Binding="{Binding Conductor}" 
                                                       Width="*"/>
                                    <DataGridTextColumn Header="Producto" 
                                                       Binding="{Binding Producto}" 
                                                       Width="120"/>
                                    <DataGridTextColumn Header="Peso (Kg)" 
                                                       Binding="{Binding Peso, StringFormat=N2}" 
                                                       Width="80"/>
                                    <DataGridTextColumn Header="Transporte" 
                                                       Binding="{Binding Transporte}" 
                                                       Width="100"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <!-- Pie de página -->
                            <TextBlock Grid.Row="2"
                                      Text="💡 Tip: Use los filtros para encontrar registros específicos. Deje los campos vacíos para mostrar todos los registros." 
                                      FontSize="10" 
                                      Margin="0,10,0,0"
                                      Foreground="Gray"
                                      FontStyle="Italic"
                                      TextWrapping="Wrap"/>

                        </Grid>
                    </GroupBox>

                </StackPanel>
            </ScrollViewer>
        </DockPanel>
    </Grid>
</Window>